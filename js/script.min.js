function addCloseListener(e){var t=e.querySelector(".dialog-close");t.addEventListener("click",function(t){t.preventDefault(),e.classList.remove("display-block"),dialogOverlay.classList.remove("display-block")})}function setCount(e,t){e.textContent=t,t>0&&(e.parentElement.classList.contains("full")||e.parentElement.classList.add("full"))}function incrementCount(e,t){var o=localStorage.getItem(t);o++,localStorage.setItem(t,o),setCount(e,o)}function initCount(e,t){var o=localStorage.getItem(t);null==o&&(o=0,localStorage.setItem(t,o)),setCount(e,o)}function addItemBookmarkListener(e){e.addEventListener("click",function(e){e.preventDefault(),incrementCount(bookmarkCount,"bookmarkCount")})}function addItemBuyListener(e){e.addEventListener("click",function(e){e.preventDefault(),incrementCount(itemCount,"itemCount"),dialogOverlay.classList.add("display-block"),itemDialog.classList.add("display-block")})}function form(){var e=document.querySelector(".dialog.company-form");if(e){var t=document.querySelector("#customer-name"),o=document.querySelector("#customer-email"),a=document.querySelector("#customer-message"),r=document.querySelector(".company-write-us");r.addEventListener("click",function(a){a.preventDefault();var r=localStorage.getItem("customerName");r&&(t.value=r);var l=localStorage.getItem("customerEmail");l&&(o.value=l),dialogOverlay.classList.add("display-block"),e.classList.add("display-block")});var l=e.querySelector("form");l.addEventListener("submit",function(e){t.value&&o.value&&a.value?(localStorage.setItem("customerName",t.value),localStorage.setItem("customerEmail",o.value)):e.preventDefault()})}}function map(){var e=document.querySelector(".company-map-popup");if(e){var t=document.querySelector(".company-map img");t.addEventListener("click",function(t){t.preventDefault(),e.classList.add("display-block")});var o=e.querySelector(".dialog-close");o.addEventListener("click",function(t){t.preventDefault(),e.classList.remove("display-block")})}}for(var dialogOverlay=document.querySelector(".dialog-overlay"),dialogArray=document.querySelectorAll(".dialog"),idx=0;idx<dialogArray.length;++idx)addCloseListener(dialogArray[idx]);var bookmarkCount=document.querySelector(".header-bookmarks .count");initCount(bookmarkCount,"bookmarkCount");for(var itemBookmarkBtnArray=document.querySelectorAll(".catalog-item-bookmark"),i=0;i<itemBookmarkBtnArray.length;++i)addItemBookmarkListener(itemBookmarkBtnArray[i]);var itemDialog=document.querySelector(".dialog.catalog-cart"),itemCount=document.querySelector(".header-cart .count");initCount(itemCount,"itemCount");for(var itemBuyBtnArray=document.querySelectorAll(".catalog-item-buy"),j=0;j<itemBuyBtnArray.length;++j)addItemBuyListener(itemBuyBtnArray[j]);var itemDialogContinueBtn=document.querySelector(".dialog.catalog-cart .catalog-cart-continue");itemDialogContinueBtn.addEventListener("click",function(e){e.preventDefault(),dialogOverlay.classList.remove("display-block"),itemDialog.classList.remove("display-block")}),form(),map();
